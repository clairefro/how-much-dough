(this["webpackJsonphow-much-dough"]=this["webpackJsonphow-much-dough"]||[]).push([[0],{10:function(e,t,n){},11:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),u=n(4),o=n.n(u),r=(n(10),n(2)),s=n(1),l=function(e,t,n,a){return t=t.toUpperCase(),n=n.toUpperCase(),e/a[t]*a[n]},i=function(e){e.baseCur,e.targetCur;var t=Object(a.useState)({}),n=Object(s.a)(t,2),u=n[0],o=n[1],i=Object(a.useState)([]),f=Object(s.a)(i,2),m=f[0],d=f[1],b=Object(a.useState)({amount:0,code:"USD"}),p=Object(s.a)(b,2),j=p[0],O=p[1],h=Object(a.useState)({amount:0,code:"JPY"}),v=Object(s.a)(h,2),g=v[0],E=v[1],S=Object(a.useState)(1),y=Object(s.a)(S,2),N=y[0],w=y[1],C=Object(a.useState)(1),k=Object(s.a)(C,2),D=(k[0],k[1],Object(a.useState)(1)),J=Object(s.a)(D,2),F=(J[0],J[1],Object(a.useRef)()),I=Object(a.useRef)(),R=Object(a.useRef)(),U=Object(a.useRef)(),x=function(e){if(1===e){var t=F.current.value,n=R.current.value;O({amount:t,code:n})}else{var a=I.current.value,c=U.current.value;E({amount:a,code:c})}};Object(a.useEffect)((function(){if(1===N&&Object.keys(u).length>0){console.log(u);var e=l(j.amount,j.code,g.code,u.rates);E((function(t){return Object(r.a)(Object(r.a)({},t),{},{amount:e})}))}}),[j]),Object(a.useEffect)((function(){if(2===N&&Object.keys(u).length>0){console.log(u);var e=l(g.amount,g.code,j.code,u.rates);O((function(t){return Object(r.a)(Object(r.a)({},t),{},{amount:e})}))}}),[g]);var M=function(){fetch("https://openexchangerates.org/api/latest.json?app_id=5eb4c18e936f4deeb6024f3d5dbab934").then((function(e){return e.json()})).then((function(e){localStorage.setItem("hmd-rates",JSON.stringify(e)),o(e)})).catch((function(e){return console.log(e)})),console.log("fetched new rates")};return Object(a.useEffect)((function(){if(localStorage.getItem("hmd-rates")){var e=JSON.parse(localStorage.getItem("hmd-rates"));console.log("hmd-rates found in cache"),!function(e){var t=new Date,n=new Date(1e3*e);return t.getDate()!==n.getDate()}(e.timestamp)?o(e):M()}else M()}),[]),Object(a.useEffect)((function(){var e=u.rates;d(e?Object.keys(e):[])}),[u]),c.a.createElement("div",{className:"currency-converter"},c.a.createElement("div",{className:"input-section"},c.a.createElement("input",{ref:F,type:"number",onChange:function(){return x(1)},onFocus:function(){return 1===N?null:w(1)},className:"input-amount",value:j.amount,id:"input-1"}),c.a.createElement("select",{ref:R,name:"code1",onChange:function(){return x(1)},onFocus:function(){return 1===N?null:w(1)},value:j.code,id:"code1"},m.map((function(e){return c.a.createElement("option",{key:e,value:e},e)})))),c.a.createElement("div",{className:"input-section"},c.a.createElement("input",{ref:I,type:"number",onFocus:function(){return 2===N?null:w(2)},onChange:function(){return x(2)},className:"input-amount",value:g.amount,id:"input-2"}),c.a.createElement("select",{ref:U,name:"code2",onFocus:function(){return 2===N?null:w(2)},onChange:function(){return x(2)},value:g.code,id:"code2"},m.map((function(e){return c.a.createElement("option",{key:e,value:e},e)})))))};var f=function(){return c.a.createElement("div",{className:"App"},c.a.createElement("div",{className:"container"},c.a.createElement("h1",null,"How Much Dough?"),c.a.createElement(i,null)))};o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(f,null)),document.getElementById("root"))},5:function(e,t,n){e.exports=n(11)}},[[5,1,2]]]);
//# sourceMappingURL=main.b89bbc6e.chunk.js.map